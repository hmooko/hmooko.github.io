---
layout: post
title: "컴퓨터 네트워크 1주차"
subtitle: "What is Network?"
date: 2023-03-26 23:45:13 -0400
background: '/img/posts/01.jpg'
---

<h1>1.1 What is Internet?</h1>
<h2>기본 상식</h2>
<ul>
<li>inter network(외부망) : 여러 개의 네트워크를 연결한 것</li>
<li>intra network(내부망) : 하나의 폐쇠된 네트워크</li>
</ul>
<h2>인터넷이란: &quot;nuts and bolts&quot; 관점</h2>
<p>종단 시스템(end system)은 네트워크를 통해서 정보를 주거나 받는 시스템을 말하며 종단 시스템은 통신 링크(comunication links)와 패킷 교환(packet switches)을 통해서 서로 연결된다. 종단 시스템의 예로는 클라이언트와 서버를 말할 수 있다.</p>
<p>통신 링크는 광섬유나 구리선, 라디오, 위성 등이 해당되며 전송 속도(bits/second)와도 관련되어 있다.</p>
<p>패킷(packet)은 네트워크를 통해 데이터를 보낼 때 일정한 단위로 쪼개어 보내는데 이 단위를 패킷이라고 부른다.</p>
<p>패킷을 보낼 때에는 라우터와 스위치의 도움을 받는데 외부로 보낼 때에는 라우터를 통하고 내부로 보낼 때에는 스위치를 이용한다.</p>
<p>그래서 인터넷이란 네트워크와 네트워크를 연결한 것을 뜻한다. 네트워크를 서로 연결하기 위해서는 주소가 필요한데 이러한 서비스를 제공하는 것이 ISPs(internet service providers)이다. ex) LG U+, SKT</p>
<p>컴퓨터나 네트워크 등이 서로 달라 정보를 보내거나 이해하는 방식이 다를 수 있기 때문에 이를 해결하기 위한 것이 프로토콜(Protocol)이다.</p>
<p>인터넷 표준 또한 존재하는데 ISO, IEEE, ITU-T, IETF 등이 있다.</p>
<h2>흥미로운 인터넷 접속 장치들</h2>
<p>인터넷을 이용한 냉장고나 전화기 등 다양한 인터넷 접속 장치들이 있는데 이렇게 각종 디바이스들을 인터넷으로 연결하여 디사이스들의 기능을 활용하는 것을 IoT (internet of things)라고 한다.</p>
<h2>인터넷이란: 서비스 관점</h2>
<p>개발자의 관점에서 우리는 응용 프로그램을 만들 때 email을 보내거나 게임, web 등의 인터넷 서비스를 제공해야 한다. 그러한 응용 프로그램에 프로그래밍 인터페이스의 형태로 제공하여 인터넷에 접근할 수 있게 해준다.</p>
<h2>프로토콜이란 ?</h2>
<p>프로토콜은 통신 개체 간에 주고받는 메시지의 형식, 순서뿐만이 아니라 메시지의 송수신과 다른 이벤트에 따른 행동들을 정의한다. 즉, 통신을 하기 위해서 서로가 약속한 규약의 지합이라고 볼 수 있다.</p>
<h1>1.2 The Network Edge</h1>
<p>네트워크의 가장자리는 결과적으로 정보를 주고 받는 종단 시스템인 클라이언트와 서버이다. 그리고 종단시스템은 외부와 통신하기 위해 주소를 필요로 하고 라우터에 접속해야만 한다. 이러한</p>
<h2>접속 네트워크: digital subscriber line (DSL)</h2>
<p>옛날에는 전화선을 사용하여 데이터를 전송했기 때문에 전화를 사용하면 인터넷을 사용하지 못하고 인터넷을 사용하려고 하면 전화를 사용하지 못했다고 한다. 이러한 것을 더 발전시킨 것이 DSL이라고 한다.</p>
<p>DSL은 전화선의 데이터(높은 주파수)는 인터넷으로 전달하고 음성(낮은 주파수)은 전화망으로 전달하는 방식이다. 최대 2.5Mbps의 업스트림 전송률과 최대 24Mbps의 다운스트림 전송률을 보여준다.</p>
<h2>접속 네트워크: 케이블 망</h2>
<p>그 후에는 케이블 TV회사로 부터 인터넷 서비스를 제공받았는데 이전의 DSL보다는 많은 양의 데이터를 전송할 수 있었고 각 체널은 다른 주파수의 영역을 통해서 통신했다; 주파수분할다중화</p>
<p>그래서 이 당시에는 HFC 방법을 사용했다. 이 방법은 각 가정에서는 동축 케이블을 사용하고 ISP에서는 광케이블을 사용하여 광동축 혼합망을 사용했다.</p>
<h2>접속 네트워크: FTTx(광랜)</h2>
<p>현재(2006년 이후 대부분의 아파트)에는 가정까지 광케이블이 들어가는 FTTH가 서비스되고 있다. 하지만 그 이전까지는 여전히 광케이블이 비쌌기 때문에 다음과 같은 서비스를 제공했다.</p>
<ul>
<li>FTTN: 전신주나 길가까지는 광케이블, 그 이후 집안까지는 랜선</li>
<li>FTTC: 어느 지점까지는 광케이블, 그 이후 가정은 구리선</li>
<li>FTTB: 건물까지만 광케이블, 그 이후 가정은 랜선</li>
</ul>
<h2>접속 네트워크: 가정(홈) 네트워크</h2>
<p>요즘 가정에서는 ISP에서 제공하는 무선과 유선이 결합된 모뎀을 설치하여 사용하고 있다. ex) 와이파이 공유</p>
<h2>기업 접속 네트워크 (Ethernet)</h2>
<p>주로 회사나 대학 등이 이에 해당하고 종단 시스템은 Ethernet switch에 연결되는 것이 전형적이다.</p>
<h2>무선 접속 네트워크</h2>
<p>공유되는 무선접속 네트워크가 종단 시스템을 라우터에 연결해준다. 무선 LAN(WIFI)은 100ft 이내에서 사용 가능하고 광역 무선 접속(LTE, 5G 등)은 수십 km이내에서도 사용 가능하다.</p>
<h2>호스트: 데이터 패킷의 전송</h2>
<p>호스트 사이에 데이터를 보낼 때 데이터를 일정한 크기로 쪼개는데 이 단위를 패킷이라고 한다.
패킷의 크기를 L(bits), 전송률을 R(bits/sec)라고 하면 L비트의 패킷을 전송하는데 걸리는 시간은 L/R이다.</p>
<h2>물리 매체</h2>
<p>케이블은 네 종류로 나누어 진다.</p>
<ul>
<li>꼬임 상선: 선을 꼬아 데이터가 손실되지 않게 함. 10~100Mbps, 100m~1km, 도청 가능</li>
<li>동축케이블: 10Mbps~1Gbps, 1~10km, 도청 가능</li>
<li>광섬유: 전송 속도가 빠르고 멀리 며 전자기적 간섭에도 강하다. 2~200Gbps, 10~100km, 도청 불가능</li>
<li>전력선: 전류와 섞여 데이터에 오류가 발생하기 때문에 현재는 많이 사용하지 않음</li>
</ul>
<p>무선으로는 라디오가 있고 장애물의 방해나 반사, 간섭 등의 환경에 영향이 있다.</p>
<h1>1.3 네트워크 코어</h1>
<p>데이터를 쪼갠 패킷들의 이동 경로는 동일하지 않다. 이러한 패킷의 이동 경로는 라우터가 정하고 네트워크 코어는 상호 연결된 라우터들의 망을 말한다.</p>
<h2>패킷교환: 저장 후 전달</h2>
<p>라우터 또한 데이터를 처리하는데 시간이 걸리기 때문에 패킷을 받아 큐에 저장한 후 다음 라우터로 전달한다.
한 홉(hop)는 노드와 노드 사이를 말한다.</p>
<h2>패킷교환: 큐잉 지연, 손실</h2>
<p>패킷이 라우터에 도착한 후에는 큐 저장되어 전송을 기다리게 되는데 이 때 만약 메모리가 넘치면 패킷은 버려질 수도 있다.</p>
<h2>네트워크 코어의 두 가지 핵심 기능</h2>
<ul>
<li>라우팅: 패킷이 거칠 출발지-목적기간 경로를 설정</li>
<li>전달: 들어온 패킷을 적절한 라우터 출력으로 보냄</li>
</ul>
<h2>또다른 방식: 회선교환</h2>
<p>이 방법은 처음부터 목적지를 정해 패킷이 도착하는 순서가 달라지지 않기 때문에 인터넷보다는 전화에 많이 사용된다.</p>
<h2>회선교환: FDM vs TDM</h2>
<p>네 명의 사용자가 하나의 경로를 사용하게 된다면 그 경로를 잘 공유할 수 있는 방법이 있어야 한다.
FDM: 주파수 별로 쪼개어 경로를 공유한다.
하나의 도로를 여러 개로 나누어 사용하는 것과 비슷하다.
TDM: 시간 별로 쪼개어 경로를 공유한다.
하나의 도로를 사용할 때 사용 시간을 미리 정해놓는 것과 비슷하다.</p>
<h2>패킷교환 vs 회선교환</h2>
<p>회선교환의 경우 FDM이나 TDM의 방식을 사용한다고 하면 사용할 수 있는 사람의 수가 결정되어 있다. 즉, 하나의 도로를 네 개로 쪼개었을 때 한 명의 사용자만 있다면 나머지 세 개는 낭비된다고 볼 수 있다.
그렇기 때문에 bursty data의 경우 패킷교환이 더 많은 사용자를 수용할 수 있다.
하지만 지나친 혼잡 가능성으로 인해 패킷의 지연과 손실이 발생할 수 있어 신뢰성있는 전송과 혼잡제어를 위해 프로토콜이 필요하다.</p>
<h2>인터넷 구조: 네트워크의 네트워크</h2>
<p>질문: 수백만 개의 접속 ISP가 있다면, 어떻게 연결할까?</p>
<ol>
<li>각 ISP와 다른 모든 ISP와 연결
<ul>
<li>확작성이 떨어짐</li>
<li>O(N^2)</li>
</ul>
</li>
<li>각 접속 ISP를 하나의 글로벌 통과 ISP에 연결
<ul>
<li>글로벌 ISP가 돈이 되는 사업이라면, 경쟁 업체가 생기고 그들간에도 상호연결되어야 함</li>
<li>ISP에 연결하는 지역 네트워크가 생길 수 있음</li>
<li>컨텐츠 제공자는 자체 네트워크를 구축해 서비스를 제공할 수 있다.</li>
<li>중앙부: 적은 수의 well-connected 대형 네트워크
<ul>
<li>tier-1 상업적 ISP들, 국내 &amp; 국제적 영역을 커버 (12개 정도)</li>
<li>content provider network ex) google: tier-1, regional ISPs를 우회해서 자사 데이터 센터를 인터넷에 연결하는 사설 네트워크</li>
</ul>
</li>
</ul>
</li>
</ol>
<h1>1.4 네트워크에서의 지연, 손실, 처리율</h1>
<h2>손실과 지연은 어떻게 발생하는가?</h2>
<p>패킷 도착률이 출력 링크 용량을 넘으면 패킷은 큐에서 자기 차례를 기다린다. 큐가 차면서 빈 버퍼가 없을 때 도착한 패킷들은 손실된다.</p>
<h2>패킷 지연의 4가지 원인</h2>
<pre><code>d(nodal) = d(proc) + d(queue) + d(trans) + d(prop)
</code></pre>
<ul>
<li>d(proc): nodal processing
<ul>
<li>에러 검사</li>
<li>출력 링크 결정</li>
<li>대개 msec 이하</li>
</ul>
</li>
<li>d(queue): queueing delay
<ul>
<li>출력 링크에서 전송을 기다리는 시간</li>
<li>라우터의 혼잡 정도에 의존적</li>
</ul>
</li>
<li>d(trans): transmission delay
<ul>
<li>L: 패킷 길이(bits)</li>
<li>R: 링크 대역폭(bps)</li>
<li>d(trans) = L/R</li>
</ul>
</li>
<li>d(prop): propagation delay
<ul>
<li>d: 물리 링크의 길이</li>
<li>s: 전파 속도 (~2*10^8 m/sec)</li>
<li>d(prop) = d/s</li>
</ul>
</li>
</ul>
<h2>큐잉지연 (revisited)</h2>
<ul>
<li>
<p>R: 링크 대역폭 (bps)</p>
</li>
<li>
<p>L: 패킷 길이 (bits)</p>
</li>
<li>
<p>a: 평균 패킷 도착률</p>
</li>
<li>
<p>La/R ~0: 평균 큐잉 지연이 작음</p>
</li>
<li>
<p>La/R -&gt; 1: 평균 큐잉 지연이 커짐</p>
</li>
<li>
<p>La/R &gt; 1: 평군 지연이 무한대</p>
</li>
</ul>
<h2>패킷 손실</h2>
<p>링크 앞의 queue의 용량은 유한하기 때문에 버퍼가 꽉 찬 후에 도착하는 패킷은 버려지고 손실된 패킷은 직전 노드나 송신측 종단 시스템에서 재전송 될 수도 있고 그렇지 않을 수도 있다.</p>
<h2>실제의 인터넷 지연과 경로</h2>
<ul>
<li>traceroute 프로그램: 송신측에서 수신측에 가는 경로상의 각 라우터들까지의 지연을 측정, 제공
<ul>
<li>수신측까지 가는 경로상의 라우터 i까지 가는 패킷을 3개 보낸다.</li>
<li>라우터 i는 패킷을 송신측 까지 되돌려 보낸다.</li>
<li>송신 측은 전송에서 응답까지의 시간을 측정한다.</li>
</ul>
</li>
</ul>
<h2>처리율 (Throughput)</h2>
<p>송수신측 사이에서 비트가 전송되는 전송률 (bits/시간단위)
///</p>
<h2>처리율: 인터넷 시나리오</h2>
<h1>1.5 프로토콜 계층, 서비스 모델</h1>
<p>네트워크는 많은 요소들로 구성되어 복잡하기 때문에 네트워크 구조를 조직할 수 있을까라는 생각을 해볼 수 있고 그 구조를 계층화 하는 것이 좋을 수 있다.
계층화하는 이유</p>
<ol>
<li>명시적인 구조가 복잡한 시스템의 요소들의 식별과 관계를 분명하게 해줌
<ul>
<li>논의를 위한 계층화된 참조 모델</li>
</ul>
</li>
<li>모율화로 시스템의 관리와 갱신이 용이해짐
<ul>
<li>한 계층의 구현을 변경해도 시스템의 다른 부분에 영향을 주지 않음</li>
</ul>
</li>
</ol>
<h2>인터넷 프로토콜 스택</h2>
<ul>
<li>application: 네트워크 응용을 지원
<ul>
<li>FTP, SMTP, HTTP</li>
</ul>
</li>
<li>transport: 프로세스간 데이터 전송
<ul>
<li>TCP, UDP</li>
</ul>
</li>
<li>network: 출발지에서 도착지까지의 datagram 라우팅
<ul>
<li>IP, routing protocols</li>
</ul>
</li>
<li>link: 이웃한 네트워크 요소들간의 데이터 전송
<ul>
<li>Ehternet, 820.111, PPP</li>
</ul>
</li>
<li>physical(물리): bits &quot;on the wire&quot;</li>
</ul>
<h2>ISO/OSI 참조 모델</h2>
<ul>
<li>표현(presentation): 응용이 데이터의 의미를 해석하도록 해줌</li>
<li>세션(session): 데이터 교환 시의 동기화(synchronization), checkpointing, 복구(recovery)</li>
<li>인터넷 스택은 이 계층들이 없음</li>
</ul>
<h2>캡슐화(Encapsulation)</h2>
